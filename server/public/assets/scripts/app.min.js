/*! calculator 2016-03-13 */
function makeNegativeNum(){print=-1==print.indexOf("-")?"-"+print:print.slice(1,print.length),$(".display").removeClass("blue-text, small-text").text(print)}function addDecimal(){-1==print.indexOf(".")&&(print+=".",1==print.length&&(print="0"+print)),$(".display").removeClass("blue-text, small-text").text(print)}function clearAll(){$(".display").removeClass("small-text, blue-text").text("0"),x="",y="",operator="",print=""}function getNumber(){if(print+=$(this).text(),print.length>9){if($(".display").addClass("small-text").text(print),print.length>18)return $(".display").removeClass("small-text").text("Error"),x="",y="",operator="",void(print="")}else $(".display").removeClass("blue-text, small-text").text(print)}function getOperator(){operator="",operator=$(this).text(),x=$(".display").text(),$(".display").text("0"),print=""}function calculate(){switch(y=$(".display").text(),print="",calcData={x:x,operator:operator,y:y},operator){case"-":send("/subtrac",calcData);break;case"+":send("/add",calcData);break;case"*":send("/multiply",calcData);break;case"/":send("/divide",calcData);break;default:console.log("Incorrect operator")}x="",y="",operator=""}function send(a,b){$.ajax({type:"POST",url:a,data:b,success:function(a){checkHowBig(a)&&($(".display").addClass("blue-text").text(a),calcData={},console.log(calcData))}})}function checkHowBig(a){return a.length>9&&$(".display").addClass("small-text"),a.length>18?($(".display").removeClass("small-text").text("Error"),x="",y="",operator="",print="",!1):!0}var x="",y="",operator="",print="",calcData={};$(document).ready(function(){$(".display").text("0"),$(".clearall").on("click",clearAll),$(".numbers").not(".dot").on("click",getNumber),$(".operators").not(".negative").on("click",getOperator),$(".equal").on("click",calculate),$(".dot").on("click",addDecimal),$(".negative").on("click",makeNegativeNum)});